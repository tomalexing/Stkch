{"version":3,"names":[],"mappings":"","sources":["app.js"],"sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n'use strict';\n\nvar _player = require('./modules/player');\n\nvar _player2 = _interopRequireDefault(_player);\n\nvar _modal = require('./modules/modal');\n\nvar _modal2 = _interopRequireDefault(_modal);\n\nvar _menu = require('./modules/menu');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n//modal youtube player\n_player2.default.initPlayerApi();\nnew _player2.default.ModalPlayer('#player', '#play');\n\n//new EEe();\n\n(0, _menu.AnimateMenu)('.nav');\n\n// import scroll     from './modules/scroll-controller';\n// import events     from './modules/events';\n// import animations from './modules/animations';\n// import activateFullpage from './modules/fp';\n\n// const $win          = $(window);\n// const mq            = window.matchMedia('(min-width: 1024px)');\n// let lastSectionName = null;\n\n// // functions\n// function disableScroll() {\n//     scroll.disable();\n//     $.fn.fullpage.setAllowScrolling(false);\n//     $.fn.fullpage.setKeyboardScrolling(false);\n// }\n\n// function enableScroll() {\n//     scroll.enable();\n//     $.fn.fullpage.setAllowScrolling(true);\n//     $.fn.fullpage.setKeyboardScrolling(true);\n// }\n\n// function setAnimationsProgress(val = 0) {\n//     for (let key in animations) {\n//         if (!animations.hasOwnProperty(key) || key === 'intro') continue;\n//         animations[key].progress(val);\n//     }\n// }\n\n// function windowResizeHandler(mediaQuery) {\n//     if (mediaQuery.matches) {\n//         setAnimationsProgress(0);\n//     } else {\n//         setAnimationsProgress(1);\n//     }\n// }\n\n// // events\n// mq.addListener(function() {\n//     windowResizeHandler(this);\n// });\n\n// $win.on('mousewheel DOMMouseScroll scroll touchmove', (e) => {\n//     if (!intro.wasAnimated()) {\n//         intro.disableParallax();\n//         intro.playAnimations();\n//     }\n// });\n\n// events.subscribe(events.names.FP_INIT, (props) => {\n//     let { slides } = props;\n//     let activeSlide = slides.filter('.active');\n//     activeSlide.prevAll().addClass('prev');\n//     activeSlide.nextAll().addClass('next');\n// });\n\n// events.subscribe(events.names.INTRO_END_ANIMATIONS, enableScroll);\n\n// events.subscribe(events.names.FP_BEFORE_CHANGE, (props) => {\n//     let { slide, direction } = props;\n\n//     slide.prevAll().removeClass('next').addClass('prev');\n//     slide.nextAll().removeClass('prev').addClass('next');\n\n//     switch (direction) {\n//     case 'down':\n//         slide.addClass('prev');\n//         break;\n//     case 'up':\n//         slide.addClass('next');\n//         break;\n//     }\n// });\n\n// events.subscribe(events.names.FP_AFTER_CHANGE, (props) => {\n//     let { slide, index, anchorLink } = props;\n//     let sectionAnim = animations[anchorLink];\n//     let prevSectionAnim = animations[lastSectionName];\n\n//     slide.removeClass('prev next');\n\n//     $('.pagination__link')\n//         .removeClass('is-active')\n//         .eq(index - 1)\n//         .addClass('is-active');\n\n//     if (mq.matches) {\n//         if (sectionAnim) sectionAnim.play();\n//         if (prevSectionAnim) prevSectionAnim.progress(0).pause();\n//     }\n//     lastSectionName = anchorLink;\n// });\n\n// // events.subscribe(events.names.FP_LOOP_TOP, (props) => {\n// //     disableScroll();\n// //     intro.playAnimationsReverse();\n// // });\n\n// events.subscribe(events.names.FP_INTRO_FOCUSIN, () => {\n//     $('.links').removeClass('is-dark');\n//     $('.pagination').removeClass('is-dark');\n// });\n\n// events.subscribe(events.names.FP_INTRO_FOCUSOUT, () => {\n//     $('.links').addClass('is-dark');\n//     $('.pagination').addClass('is-dark');\n// });\n\n// // initial actions\n// activateFullpage();\n// intro.enableParallax();\n// disableScroll();\n// windowResizeHandler(mq);\n\n},{\"./modules/menu\":3,\"./modules/modal\":4,\"./modules/player\":5}],2:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nvar events = (function () {\n    var topics = {};\n    var hOP = topics.hasOwnProperty;\n\n    return {\n        subscribe: function subscribe(topic, listener) {\n            var index = undefined;\n            // Create the topic's object if not yet created\n            if (!hOP.call(topics, topic)) topics[topic] = [];\n\n            // Add the listener to queue\n            index = topics[topic].push(listener) - 1;\n\n            // Provide handle back for removal of topic\n            return {\n                remove: function remove() {\n                    delete topics[topic][index];\n                }\n            };\n        },\n        publish: function publish(topic, info) {\n            // If the topic doesn't exist, or there's no listeners in queue, just leave\n            if (!hOP.call(topics, topic)) return;\n\n            // Cycle through topics queue, fire!\n            topics[topic].forEach(function (item) {\n                item(info != undefined ? info : {});\n            });\n        },\n        names: {\n            INTRO_END_ANIMATIONS: 'introAnimEnd',\n            FP_INTRO_FOCUSIN: 'fpIntroFocusIn',\n            FP_INTRO_FOCUSOUT: 'fpIntroFocusOut',\n            FP_BEFORE_CHANGE: 'fpBeforeChange',\n            FP_AFTER_CHANGE: 'fpAfterChange',\n            FP_LOOP_TOP: 'fpLoopTop',\n            FP_INIT: 'fpInit'\n        }\n    };\n})();\n\nexports.default = events;\n\n},{}],3:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.AnimateMenu = AnimateMenu;\n\nvar _events = require('./events');\n\nvar _events2 = _interopRequireDefault(_events);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction AnimateMenu(menu) {\n\tvar $menu = menu instanceof $ ? menu : $(menu);\n\tvar $links = $('' + menu + ' a[href^=\"#\"]');\n\t// console.log( $links instanceof $);\n\t// console.log($menu instanceof $)\n\tvar $win = $(window);\n\t$win.on(\"scroll\", function () {\n\t\t_events2.default.publish('onScroll');\n\t});\n\n\t// $win.on(\"scroll\", onScroll1);\n\t// $win.on(\"scroll\", onScroll)\n\n\t$links.on('click', function (e) {\n\t\te.preventDefault();\n\t\t$win.off(\"scroll\");\n\t\t$links.each(function () {\n\t\t\t$(this).removeClass('is-active');\n\t\t});\n\n\t\t$(this).addClass('is-active');\n\t\tvar target = this.hash,\n\t\t    $target = $('[name=' + target.substring(1) + ']');\n\n\t\t$('html, body').stop().animate({\n\t\t\t'scrollTop': $target.offset().top\n\t\t}, 500, 'swing', function () {\n\t\t\twindow.location.hash = target;\n\t\t\t$win.on(\"scroll\", onScroll);\n\t\t});\n\t});\n\t// events.publish('onScroll');\n\t// function onScroll(event){\n\t// \tlet scrollPos = $win.scrollTop();\n\t// \t$links.each(function () {\n\t// \t\tlet currLink = $(this);\n\t// \t\tlet refElement = $('[name='+currLink.attr(\"href\").substring(1)+']');\n\t// \t\tif (refElement.position().top - 80 <= scrollPos && refElement.position().top + refElement.height() > scrollPos) {\n\t// \t\t\t$links.removeClass(\"is-active\");\n\t// \t\t\tcurrLink.addClass(\"is-active\");\n\t// \t\t}\n\t// \t\telse{\n\t// \t\t\tcurrLink.removeClass(\"is-active\");\n\t// \t\t}\n\t// \t});\n\t// }\n\tvar rH = _events2.default.subscribe('onScroll', function (props) {\n\t\tevent = props;\n\t\tvar scrollPos = $win.scrollTop();\n\t\tsetInterval(console.log(event), 100);\n\t\t$links.each(function () {\n\t\t\tvar currLink = $(this);\n\t\t\tvar refElement = $('[name=' + currLink.attr(\"href\").substring(1) + ']');\n\t\t\tif (refElement.position().top - 80 <= scrollPos && refElement.position().top + refElement.height() > scrollPos) {\n\t\t\t\t$links.removeClass(\"is-active\");\n\t\t\t\tcurrLink.addClass(\"is-active\");\n\t\t\t} else {\n\t\t\t\tcurrLink.removeClass(\"is-active\");\n\t\t\t}\n\t\t});\n\t});\n\n\tfunction onScroll1(event) {\n\t\tconsole.log('onScroll1');\n\t}\n}\n// //smoothscroll start\n// \t$('a[href^=\"#\"]').on('click', function (e) {\n// \t\te.preventDefault();\n// \t\t$(document).off(\"scroll\");\n\n// \t\t$('.start_nav a').each(function () {\n// \t\t\t$(this).removeClass('is-active');\n// \t\t})\n// \t\t$(this).addClass('is-active');\n\n// \t\tvar target = this.hash,\n// \t\tmenu = target;\n// \t\t$target = $('[name='+target.substring(1)+']');\n\n// \t\t$('html, body').stop().animate({\n// \t\t\t'scrollTop': $target.offset().top- 90\n// \t\t}, 500, 'swing', function () {\n// \t\t\twindow.location.hash = target;\n// \t\t\t$(document).on(\"scroll\", onScroll);\n// \t\t});\n// \t});\n\n// \tfunction onScroll(event){\n// \t\tvar scrollPos = $(document).scrollTop();\n// \t\t$('.start_nav li a').each(function () {\n// \t\t\tvar currLink = $(this);\n// \t\t\tvar refElement = $('[name='+currLink.attr(\"href\").substring(1)+']');\n// \t\t\tif (refElement.position().top - 250 <= scrollPos && refElement.position().top + refElement.height() > scrollPos) {\n// \t\t\t\t$('.start_nav a').removeClass(\"is-active\");\n// \t\t\t\tcurrLink.addClass(\"is-active\");\n// \t\t\t}\n// \t\t\telse{\n// \t\t\t\tcurrLink.removeClass(\"is-active\");\n// \t\t\t}\n// \t\t});\n// \t}\n\n// \t$(window).scroll(function() {\n// \t\tif( $(window).width() > 768 ){\n// \t\t   if($(window).scrollTop() >= $('[name=block1]').offset().top-600 ) {\n// \t\t\t   // alert(\"bottom!\");\n// \t\t\t   $('body').addClass('active-menu');\n// \t\t\t} else {\n// \t\t\t\t$('body').removeClass('active-menu');\n// \t\t\t}\n// \t\t\tif($(window).scrollTop() >= $('[name=block4]').offset().top-200) {\n// \t\t\t\t// alert(\"bottom!\");\n// \t\t\t\t$('body').addClass('is-review ');\n// \t\t\t\t$(\".review\").addClass('is-show-preview1 is-show-preview2 is-show-preview3');\n// \t\t\t\t} else{\n// \t\t\t\t\t$('body').removeClass('is-review ');\n// \t\t\t\t}\n// \t   }else{\t\n// \t\tif($(window).scrollTop() >= 90) {$('body').addClass('gone-logo');}\n// \t\telse {$('body').removeClass('gone-logo');}\n// \t\t// if($(window).scrollTop() >= $('[name=block1]').offset().top-160) {\n// \t\t// \t$('body').addClass('show-title');}\n// \t\t// else {$('body').removeClass('show-title');}\n// \t\t$('body').addClass('is-review ');\n// \t\t$(\".review\").addClass('is-show-preview1 is-show-preview2 is-show-preview3');\n// \t\t}\n\n// \t});\n;\n\n},{\"./events\":2}],4:[function(require,module,exports){\nvar openModal;\n\nopenModal = function(selector, options) {\n  var closeBtn, modal;\n  if (options == null) {\n    options = {};\n  }\n  modal = selector instanceof $ ? selector : $(selector);\n  closeBtn = modal.find('.modal__close');\n  modal.fadeIn(500, function() {\n    modal.addClass('is-open');\n    return setTimeout(function() {\n      return typeof options.afterOpen === \"function\" ? options.afterOpen() : void 0;\n    }, 500);\n  });\n  return closeBtn.one('click', function(e) {\n    e.preventDefault();\n    if (typeof options.beforeClose === \"function\") {\n      options.beforeClose();\n    }\n    return modal.removeClass('is-open').delay(500).fadeOut(500);\n  });\n};\n\nmodule.exports = openModal;\n\n\n},{}],5:[function(require,module,exports){\nvar EVENT_NAME, ModalPlayer, openModal,\n  bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; };\n\nopenModal = require('./modal');\n\nEVENT_NAME = 'YTAPIReady';\n\nmodule.exports.initPlayerApi = function() {\n  var firstScriptTag, tag;\n  tag = document.createElement('script');\n  tag.src = \"https://www.youtube.com/iframe_api\";\n  firstScriptTag = document.getElementsByTagName('script')[0];\n  firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);\n  return window.onYouTubeIframeAPIReady = function() {\n    return $(window).trigger(EVENT_NAME);\n  };\n};\n\nmodule.exports.ModalPlayer = ModalPlayer = (function() {\n  function ModalPlayer(element, triggerElement, options) {\n    if (options == null) {\n      options = {};\n    }\n    this.pauseVideo = bind(this.pauseVideo, this);\n    this.playVideo = bind(this.playVideo, this);\n    this.init(element, triggerElement, options);\n    return this;\n  }\n\n  ModalPlayer.prototype.init = function(element, triggerElement, options) {\n    this.videoContainer = element instanceof $ ? element : $(element);\n    this.triggerElement = triggerElement instanceof $ ? triggerElement : $(triggerElement);\n    this.modal = this.videoContainer.parents('.modal');\n    this.videoId = options.videoId || this.videoContainer.attr('data-video-id') || 'xEhaVhta7sI';\n    this.player = null;\n    return this._initEvents();\n  };\n\n  ModalPlayer.prototype.playVideo = function() {\n    if (this.player) {\n      return this.player.playVideo();\n    }\n  };\n\n  ModalPlayer.prototype.pauseVideo = function() {\n    if (this.player) {\n      return this.player.pauseVideo();\n    }\n  };\n\n  ModalPlayer.prototype._buildPlayer = function() {\n    return this.player = new YT.Player(this.videoContainer[0], {\n      height: '100%',\n      width: '100%',\n      videoId: this.videoId\n    });\n  };\n\n  ModalPlayer.prototype._initEvents = function() {\n    $(window).on(EVENT_NAME, (function(_this) {\n      return function() {\n        return _this._buildPlayer();\n      };\n    })(this));\n    return this.triggerElement.on('click', (function(_this) {\n      return function(e) {\n        e.preventDefault();\n        return openModal(_this.modal, {\n          afterOpen: _this.playVideo,\n          beforeClose: _this.pauseVideo\n        });\n      };\n    })(this));\n  };\n\n  return ModalPlayer;\n\n})();\n\n\n},{\"./modal\":4}]},{},[1]);\n"],"file":"app.js","sourceRoot":"/source/"}